module.exports=function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){(function(t){"use strict";var r=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},o=e(1),i=e(7),s=e(10),a=e(12),u=e(13),c=e(16),p=e(17),f=e(20),h=e(19),l=function(t){function n(){var n=this;t.apply(this,arguments),this.onEventBound=this.onEvent.bind(this),this.onsocket=function(t){t.router.onevent=n.onEventBound}}return r(n,t),n.prototype.onEvent=function(t,n){return this.core.exec(t,n),!0},n}(i.Server);n.NodisServer=l;var y;!function(n){function e(t){var e=h.extend({},n.defaults);t.transport&&(e.transport=h.extend(e.transport,t.transport)),t.persistance&&(e.persistance=h.extend(e.persistance,t.persistance));var r={dir:c.resolve(e.persistance.dir),log:e.persistance.log},i=new p.StorageEngine.File(r),y=new u.Core({storageEngine:i,api:f}),d={host:e.transport.host,port:e.transport.port,serializer:new s.Msgpack},v=new o.TransportTcp(d),g={transport:v,backoff:new a.BackoffExponential},m=new l(g);return m.core=y,m}n.defaults={transport:{host:"0.0.0.0",port:1337},persistance:{dir:t+"/data",log:"data.json.log"}},n.createServer=e}(y||(y={})),n.createServer=y.createServer}).call(n,"/")},function(t,n,e){"use strict";function r(t){void 0===t&&(t={});var n="number"==typeof t?{port:t}:t,e={host:n.host||"0.0.0.0",port:n.port||8080,serializer:n.serializer||new p.Msgpack},r={transport:new l(e),backoff:t.backoff||new f.BackoffExponential};return new c.Server(r)}var o=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},i=e(2),s=e(3),a=e(4),u=e(6),c=e(7),p=e(10),f=e(12),h=function(t){function n(){t.apply(this,arguments)}return o(n,t),n.prototype.setSocket=function(t){var n=this;this.out=new a.LPEncoderStream(t),this["in"]=new a.LPDecoderStream(t),this["in"].on("data",function(t){var e=n.transport.unserialize(t);n.onmessage(e)})},n.prototype.send=function(t){var n=this.transport.serialize(t);this.out.write(n)},n}(s.Connection);n.ConnectionTcp=h;var l=function(t){function n(e){t.call(this,i.extend({},n.defaults,e)),this.ClassConnection=h}return o(n,t),n.prototype.start=function(t,n){var e=this;this.server=u.createServer(),this.server.on("connection",function(t){var n=e.createConncetion();n.setSocket(t),e.onconnection(n)}),this.server.on("error",function(t){e.onerror(t),e.server.close(),n()}),this.server.on("close",function(){e.onstop()}),this.server.listen({host:this.opts.host,port:this.opts.port},function(){e.onstart(),t()})},n.prototype.stop=function(){this.server.close()},n.defaults={host:"127.0.0.1",port:8080,serializer:new p.Msgpack},n}(s.Transport);n.TransportTcp=l,n.createServer=r},function(t,n){"use strict";function e(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if("object"==typeof n)for(var i in n)t[i]=n[i];return r.length?e.apply(null,[t].concat(r)):t}function r(){}n.extend=e,n.noop=r},function(t,n,e){"use strict";var r=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},o=e(2),i=function(){function t(){this.onmessage=o.noop}return t}();n.Connection=i;var s=function(){function t(t){this.opts={serializer:null},this.onconnection=o.noop,this.onstart=o.noop,this.onstop=o.noop,this.onerror=o.noop,this.opts=o.extend(this.opts,t)}return t.prototype.createConncetion=function(){var t=new this.ClassConnection;return t.transport=this,t.serializer=this.opts.serializer,t},t.prototype.serialize=function(t){return this.opts.serializer.pack(t)},t.prototype.unserialize=function(t){return this.opts.serializer.unpack(t)},t}();n.Transport=s;var a=function(t){function n(){t.apply(this,arguments),this.onmessage=o.noop}return r(n,t),n}(s);n.ClientTransport=a},function(t,n,e){"use strict";var r=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},o=e(5),i=function(){function t(){}return t.prototype.encode=function(t){var n=new Buffer(4);return n.writeInt32BE(t.length,0),Buffer.concat([n,t])},t}();n.LPEncoder=i;var s=function(){function t(){this.buf=new Buffer("")}return t.prototype.add=function(t){return this.buf=Buffer.concat([this.buf,t]),this},t.prototype.shift=function(){if(this.buf.length<5)return null;var t=this.buf.readInt32BE(0);if(this.buf.length>t){var n=this.buf.slice(4,t+4);return this.buf=this.buf.slice(t+4),n}return null},t}();n.LPDecoder=s;var a=function(t){function n(n){t.call(this),this.encoder=new i,n&&this.pipe(n)}return r(n,t),n.prototype._transform=function(t,n,e){var r=t;"string"==typeof t&&(r=new Buffer(t,n));var o=this.encoder.encode(r);e(null,o)},n}(o.Transform);n.LPEncoderStream=a;var u=function(t){function n(n){t.call(this),this.decoder=new s,n&&n.pipe(this)}return r(n,t),n.prototype._transform=function(t,n,e){var r=t;"string"==typeof t&&(r=new Buffer(t,n)),this.decoder.add(r);for(var o;o=this.decoder.shift();)this.push(o);e()},n}(o.Transform);n.LPDecoderStream=u;var c=function(t){function n(){t.call(this)}return r(n,t),n.prototype._transform=function(t,n,e){e()},n}(o.Transform);n.Buffered=c},function(t,n){t.exports=require("stream")},function(t,n){t.exports=require("net")},function(t,n,e){"use strict";var r=e(2),o=e(8),i=function(){function t(t){var n=this;this.router=new o.Router,this.onmessage=r.noop,this.connection=t,this.connection.onmessage=function(t){n.onmessage(t,n),n.router.onmessage(t)},this.router.send=this.send.bind(this)}return t.prototype.send=function(t){return this.connection.send(t),this},t}();n.Socket=i;var s=function(){function t(t){void 0===t&&(t={}),this.opts={},this.isStarted=!1,this.api=new o.Api,this.onsocket=r.noop,this.onstart=r.noop,this.onstop=r.noop,this.onerror=r.noop,this.opts=r.extend(this.opts,t)}return t.prototype.createSocket=function(t){var n=new i(t);return n.router.setApi(this.api),n},t.prototype.onStart=function(){this.isStarted=!0,this.onstart()},t.prototype.onStop=function(){this.isStarted=!1,this.onstop()},t.prototype.onError=function(t){this.onerror(t)},t.prototype.onConnection=function(t){this.onsocket(this.createSocket(t))},t.prototype.tryStart=function(t,n){var e=this.opts.transport;e.onconnection=this.onConnection.bind(this),e.onstart=this.onStart.bind(this),e.onstop=this.onStop.bind(this),e.onerror=this.onError.bind(this),e.start(t,n)},t.prototype.start=function(){return this.opts.backoff.attempt(this.tryStart.bind(this)),this},t.prototype.stop=function(){return this.opts.transport.stop(),this},t}();n.Server=s},function(t,n,e){"use strict";var r=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},o=e(9),i=function(){function t(){this.data=null,this.id=0,this.event="",this.args=[],this.callbacks=[],this.rid=0,this.func=0,this.timeout=t.timeout}return t.getNextId=function(){return t.id=t.id%1e9+1},t.prototype.hasCallbacks=function(){for(var t=0,n=this.args;t<n.length;t++){var e=n[t];if("function"==typeof e)return!0}return!1},t.prototype.isResponse=function(){return!!this.rid},t.id=0,t.timeout=5e3,t}();n.Frame=i;var s=function(t){function n(n,e){void 0===n&&(n=[]),void 0===e&&(e=""),t.call(this),this.id=i.getNextId(),this.event=e,this.args=n}return r(n,t),n.createResponse=function(t,e,r){var o=new n(r);return o.rid=t.id,o.func=e,o},n.prototype.processResponse=function(t){var n=t.func,e=this.args[n];"function"==typeof e&&(this.args[n]=null,e.apply(null,t.args))},n.prototype.serialize=function(){var t={i:this.id,e:this.event};if(this.args.length){t.a=[];for(var n=[],e=0;e<this.args.length;e++){var r=this.args[e];"function"==typeof r?(n.push(e),this.callbacks.push(r)):(t.a.push(r),i.timeout!=this.timeout&&(t.t=this.timeout/1e3))}n.length&&(t.c=n)}return this.rid&&(t.r=this.rid,t.f=this.func),this.data=t,this.data},n}(i);n.FrameOutgoing=s;var a=function(t){function n(){t.apply(this,arguments)}return r(n,t),n.prototype.unserialize=function(t,n){if(this.data=t,"number"!=typeof t.i)throw Error("Error parsing id");if(this.id=t.i,t.t){if("number"!=typeof t.t)throw Error("Error parsing timeout");this.timeout=t.t}else this.timeout=i.timeout;if(this.args=[],t.a){if(!(t.a instanceof Array))throw Error("Error parsing arguments");for(var e=0,r=t.a;e<r.length;e++){var o=r[e];this.args.push(o)}}else t.a=[];if(this.callbacks=[],t.c){if(!(t.c instanceof Array))throw Error("Error parsing callbacks");for(var s=0,a=t.c;s<a.length;s++){var u=a[s],c=n(this,u);this.callbacks.push(c),this.args.splice(u,0,c)}}if(this.event="",this.rid=0,this.func=0,t.e){if("string"!=typeof t.e)throw Error("Error parsing event");this.event=t.e}else if(t.r){if("number"!=typeof t.r)throw Error("Error parsing resposne id");if(this.rid=t.r,"number"!=typeof t.f)throw Error("Error parsing reponse position");this.func=t.f}},n}(i);n.FrameIncoming=a;var u=function(){function t(){this.latency=500,this.frame={},this.timer={},this.onerror=function(){},this.api=null,this.subs={}}return t.prototype.genCallack=function(t,n){var e=this,r=!1;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i-0]=arguments[i];if(r)throw Error('Already called: .on("'+t.event+'") '+n+"th arg");r=!0,e.dispatch(s.createResponse(t,n,o))}},t.prototype.pub=function(t){var n=t.event,e=t.args;if(n){var r=!1;if(this.onevent&&(r=!!this.onevent(n,e)),!r){var o;if(this.api&&(o=this.api.get(n)),o)o.apply(this,e);else{var i=this.subs[n];i&&i.apply(null,e),i=this.subs["*"],i&&i.apply(null,[n].concat(e))}}}},t.prototype.sendData=function(t){this.send(t)},t.prototype.dispatch=function(t){var n=this;t.hasCallbacks()&&(this.frame[t.id]=t,this.timer[t.id]=setTimeout(function(){delete n.frame[t.id]},t.timeout+this.latency));var e=t.serialize();this.sendData(e)},t.prototype.processResponse=function(t){var n=this.frame[t.rid];if(n&&(n.processResponse(t),!n.hasCallbacks())){var e=n.id;delete this.frame[e];var r=this.timer[e];r&&clearTimeout(r),delete this.timer[e]}},t.prototype.setApi=function(t){return this.api=t,this},t.prototype.onmessage=function(t){var n=new a;try{n.unserialize(t,this.genCallack.bind(this))}catch(e){return void this.onerror(e)}n.isResponse()?this.processResponse(n):this.pub(n)},t.prototype.on=function(t,n){return this.subs[t]=n,this},t.prototype.emit=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var r=new s(n,t);return this.dispatch(r),this},t}();n.Router=u;var c=function(t){function n(){t.apply(this,arguments),this.cycle=10,this.timer=0,this.buffer=[]}return r(n,t),n.prototype.flush=function(){this.send(this.buffer),this.buffer=[]},n.prototype.sendData=function(t){this.buffer.push(t),this.startTimer()},n.prototype.startTimer=function(){var t=this;this.timer||(this.timer=setTimeout(function(){t.timer=0,t.flush()},this.cycle))},n.prototype.onmessage=function(n){if("object"==typeof n)if(n instanceof Array)for(var e=0,r=n;e<r.length;e++){var o=r[e];t.prototype.onmessage.call(this,o)}else t.prototype.onmessage.call(this,n)},n}(u);n.RouterBuffered=c;var p=function(){function t(){this.methods={}}return t.prototype.add=function(t){return this.methods=o.extend(this.methods,t),this},t.prototype.get=function(t){return this.methods[t]},t}();n.Api=p},function(t,n){"use strict";function e(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if("object"==typeof n)for(var i in n)t[i]=n[i];return r.length?e.apply(null,[t].concat(r)):t}n.extend=e},function(t,n,e){"use strict";var r=function(){function t(){}return t.prototype.pack=function(t){var n=e(11);return n.encode(t)},t.prototype.unpack=function(t){var n=e(11);return n.decode(t)},t}();n.Msgpack=r},function(t,n){t.exports=require("msgpack-lite")},function(t,n){"use strict";var e=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},r=function(){function t(){this.retryCount=0}return t.prototype.onSuccess=function(){this.retryCount=0},t.prototype.retry=function(){this.retryCount++,this.operation(this.onSuccess.bind(this),this.onError.bind(this))},t.prototype.attempt=function(t){this.operation=t,this.retry()},t}();n.Backoff=r;var o=function(t){function n(n){void 0===n&&(n=3),t.call(this),this.maxRetries=3,this.maxRetries=n}return e(n,t),n.prototype.onError=function(t){this.retryCount<this.maxRetries&&this.retry()},n}(r);n.BackoffRetry=o;var i=function(t){function n(){t.apply(this,arguments),this.minTimeout=1e3,this.base=2,this.maxTimeout=36e5}return e(n,t),n.prototype.onError=function(t){var n=this.minTimeout*Math.pow(this.base,this.retryCount-1);n<this.maxTimeout&&setTimeout(this.retry.bind(this),n)},n}(r);n.BackoffExponential=i},function(t,n,e){"use strict";var r=e(14),o=function(){function t(t){this.storage=new r.Storage,this.engine=t.storageEngine,this.setApi(t.api)}return t.prototype.exec=function(t,n){var e=[t,n],r=this.api;if(r[t]){var o=r[t].apply(this,n);n.length&&"function"==typeof n[n.length-1]&&n.splice(n.length-1,1),o&&this.log(e)}else if(n.length){var i=n[n.length-1];"function"==typeof i&&i({msg:'Command "'+t+'" does not exit'})}},t.prototype.setApi=function(t){this.api={};for(var n in t)this.api[n]=t[n].bind(this)},t.prototype.log=function(t){this.engine&&this.engine.write(t)},t.prototype.timestamp=function(){return+new Date},t}();n.Core=o},function(t,n,e){"use strict";var r=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},o=e(5),i=e(15),s=function(){function t(){}return t.create=function(n){var e=new t;return e.data=n,e},t}();n.Key=s;var a=function(){function t(){this.map=new i.Map}return t}();n.Keys=a;var u=function(){function t(){}return t}();n.SortedSet=u;var c=function(){function t(){this.keys=new a,this.sortedSet=new u}return t}();n.Storage=c;var p=function(t){function n(){t.apply(this,arguments),this.step=0,this.batch=2}return r(n,t),n.prototype._read=function(){for(var t=this.keys.map,n=0;n<this.batch;n++){var e=this.step+n;if(!(e>=t.length)){var r=t.iter(e),o=r[0],i=r[1];this.push(JSON.stringify([o,i.data]))}}this.step+=this.batch,this.step>=t.length&&this.push(null)},n}(o.Readable);n.KeysExporter=p},function(t,n){"use strict";function e(t){return"[object Function]"==toString.call(t)}function r(t){return s(t)||e(t)?!1:t==Object(t)}function o(t){var n=[];for(var e in t)n[n.length]=[e,t[e]];return n}var i=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},s=Array.isArray||function(t){return"[object Array]"==toString.call(t)},a=function(){function t(){this.keys=[]}return t.prototype.updateLength=function(){return this.length=this.keys.length},t.prototype.each=function(t,n,e,r){void 0===n&&(n=0),void 0===e&&(e=this.length),void 0===r&&(r=1);for(var o=n;e>o;o+=r){var i=this.iterKey(o),s=this.iterVal(o);t(i,s)}},t.prototype.eachKey=function(t,n,e,r){void 0===n&&(n=0),void 0===e&&(e=this.length),void 0===r&&(r=1);for(var o=n;e>o;o+=r)t(this.iterKey(o))},t.prototype.eachVal=function(t,n,e,r){void 0===n&&(n=0),void 0===e&&(e=this.length),void 0===r&&(r=1);for(var o=n;e>o;o+=r)t(this.iterVal(o))},t}();n.Base=a;var u=function(t){function n(){for(var n=[],e=0;e<arguments.length;e++)n[e-0]=arguments[e];t.call(this),this.revKeys={},this.items={},this.set(n),this.updateLength()}return i(n,t),n.prototype.get=function(t){return this.items[t]},n.prototype.set=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(null==t[0])return this.length;r(t[0])&&(t=o(t[0]));for(var e=t,i=0,s=e;i<s.length;i++){var a=s[i],u=a[0],c=a[1];null==this.items[u]&&(this.revKeys[u]=this.keys.length,this.keys[this.keys.length]=u),this.items[u]=c}return this.updateLength()},n.prototype.iterKey=function(t){return this.keys[t]},n.prototype.iterVal=function(t){return this.items[this.keys[t]]},n.prototype.remove=function(t){return"undefined"!=typeof this.items[t]&&(delete this.items[t],this.keys.splice(this.revKeys[t],1),delete this.revKeys[t]),this.updateLength()},n.prototype.iter=function(t){return[this.keys[t],this.items[this.keys[t]]]},n.prototype.has=function(t){return"undefined"!=typeof this.items[t]},n.prototype.clear=function(){return this.items={},this.revKeys={},this.keys=[],this.updateLength()},n}(a);n.Map=u},function(t,n){t.exports=require("path")},function(t,n,e){"use strict";var r=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},o=e(18),i=e(19),s=function(){function t(){this.onLine=function(){},this.reminder=""}return t.createFromFile=function(n){var e=new t;return e.stream=o.createReadStream(n),e},t.prototype.sendLine=function(t){this.onLine(t)},t.prototype.start=function(){var t=this;this.stream.on("data",function(n,e){var r=n instanceof Buffer?n.toString():n,o=r.split("\n");if(o.length){t.sendLine(t.reminder+o[0]);for(var i=1;i<o.length-1;i++)t.sendLine(o[i]);t.reminder=o[o.length-1]}}),this.stream.on("end",function(){t.reminder&&t.sendLine(t.reminder),t.reminder=""})},t}();n.LineReader=s;var a=function(){function t(){}return t}();n.AolStore=a;var u=function(t){function n(){t.apply(this,arguments),this.stores={}}return r(n,t),n.prototype.write=function(t){for(var n in this.stores)this.stores[n].write(t)},n.prototype.set=function(t,n){this.stores[t]=n},n.prototype.remove=function(t){delete this.stores[t]},n}(a);n.AolStoreFork=u;var c=function(t){function n(){t.apply(this,arguments)}return r(n,t),n.createFromFile=function(t){var e=new n;return e.stream=o.createWriteStream(t,{flags:"a"}),e},n.prototype.write=function(t){this.stream.write(JSON.stringify(t)+"\n")},n}(a);n.AolFile=c;var p;!function(t){var n=function(){function t(){}return t}();t.Base=n;var e=function(t){function n(e){t.call(this),this.opts=i.extend({},n.defaults,e);var r=c.createFromFile(this.opts.dir+"/"+this.opts.log);this.fork=new u,this.fork.set("aof",r)}return r(n,t),n.prototype.write=function(t){this.fork.write(t)},n.prototype.runCompaction=function(){},n.defaults={dir:".",log:"data.json.log"},n}(n);t.File=e}(p=n.StorageEngine||(n.StorageEngine={}))},function(t,n){t.exports=require("fs")},function(t,n){"use strict";function e(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if("object"==typeof n)for(var i in n)t[i]=n[i];return r.length?e.apply(null,[t].concat(r)):t}function r(){}n.extend=e,n.noop=r},function(t,n,e){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}r(e(21)),r(e(22))},function(t,n,e){"use strict";function r(t,n,e){return void 0===n&&(n=0),t&&"string"==typeof t?!1:("function"==typeof e&&e({msg:"Invalid key.",code:n}),!0)}var o=e(14),i=e(19);n.set=function(t,n,e,s){var a;if("function"==typeof e?(s=e,a={}):a=e||{},"function"!=typeof s&&(s=i.noop),!r(t,0,s)){var u=this,c=u.storage.keys.map,p=c.get(t);return p?a.ifNotExist||(p.data=n):a.ifExist||(p=o.Key.create(n),c.set([t,p])),s(),!0}},n.get=function(t,n){if("function"==typeof n&&!r(t,0,n)){var e=this,o=e.storage.keys.map,i=o.get(t);i?n(null,i.data):n(null,null)}},n.del=function(t,n){if(void 0===n&&(n=i.noop),"function"==typeof n&&!r(t,0,n)){var e=this,o=e.storage.keys.map,s=o.get(t);return s?(n(null,o.length!=o.remove(t)),!0):(n({msg:"Key does not exist.",code:0}),!1)}},n.incr=function(t,n,e){"function"==typeof n&&(e=n),"object"!=typeof n&&(n={}),"function"!=typeof e&&(e=i.noop);var r=this;return r.api.get(t,function(o,i){if(o)return e(o);if(null===i){var s=n.by,a=void 0===s?1:s,u=n.def,c=void 0===u?0:u;if("number"!=typeof a||"number"!=typeof c)return e({msg:"Increment or default value are NaN.",code:2});var p=a+c;r.api.set(t,p,n,function(t){t?e(t):e(null,p)})}else if("number"==typeof i){var f=n.by,a=void 0===f?1:f;if("number"!=typeof a)return e({msg:"Increment is NaN.",code:1});i+=a,r.api.set(t,i,n,function(t){t?e(t):e(null,i)})}else e({msg:"Key is NaN.",code:0})}),!0},n.decr=function(t,n,e){var r=this;switch(typeof n){case"number":return r.api.incr(t,-n,e);case"object":var o=n;return"undefined"!=typeof o.by?o.by=-o.by:o.by=-1,r.api.incr(t,o,e);case"function":return r.api.incr(t,{by:-1},n);default:return"function"==typeof e&&e({msg:"Invalid arguments.",code:0}),!1}},n.inc=function(t,n){if(!r(t,0,n)){"function"!=typeof n&&(n=i.noop);var e=this,o=e.storage.keys.map.get(t);return o?"number"==typeof o.data?n(null,++o.data):n({msg:"Key is NaN",code:0}):e.api.set(t,1,function(t){n(t,1)}),!0}},n.dec=function(t,n){if(!r(t,0,n)){"function"!=typeof n&&(n=i.noop);var e=this,o=e.storage.keys.map.get(t);return o?"number"==typeof o.data?n(null,--o.data):n({msg:"Key is NaN",code:0}):e.api.set(t,-1,function(t){n(t,-1)}),!0}}},function(t,n){"use strict";n.ping=function(t){"function"==typeof t&&t("pong")},n.api=function(t){if("function"==typeof t){var n=this;t(Object.keys(n.api))}}}]);